<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <title>Pok&eacute;ROM - Resources</title>
    <link rel="icon" type="image/x-icon" href="./favicon.ico" />
    <style type="text/css">
      *,
      ::after,
      ::before {
        box-sizing: border-box;
      }
      :root {
        --white: #fff;
        --almost-black: #212529;
        --strong-blue: #007bff;
        --dark-blue: #0056b3;
        --ash-gray: #6c757d;
        --chemical-white: #dee2e6;
      }
      nav {
        display: block;
      }
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji',
          'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: var(--almost-black);
        text-align: left;
        background-color: var(--white);
      }
      hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      h2 {
        margin-top: 0;
        margin-bottom: 0.5rem;
      }
      ul {
        margin-top: 0;
        margin-bottom: 1rem;
      }
      a {
        color: var(--strong-blue);
        text-decoration: none;
        background-color: transparent;
      }
      a:hover {
        color: var(--dark-blue);
        text-decoration: underline;
      }
      h2 {
        margin-bottom: 0.5rem;
        font-weight: 500;
        line-height: 1.2;
      }
      h2 {
        font-size: 2rem;
      }
      hr {
        margin-top: 1rem;
        margin-bottom: 1rem;
        border: 0;
        border-top: 1px solid rgba(0, 0, 0, 0.1);
      }
      .container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;
      }
      @media (min-width: 576px) {
        .container {
          max-width: 540px;
        }
      }
      @media (min-width: 768px) {
        .container {
          max-width: 720px;
        }
      }
      @media (min-width: 992px) {
        .container {
          max-width: 960px;
        }
      }
      @media (min-width: 1200px) {
        .container {
          max-width: 1140px;
        }
      }
      .list-group {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-direction: column;
        flex-direction: column;
        padding-left: 0;
        margin-bottom: 0;
      }
      .list-group-item {
        position: relative;
        display: block;
        padding: 0.75rem 1.25rem;
        margin-bottom: -1px;
        background-color: var(--white);
        border: 1px solid rgba(0, 0, 0, 0.125);
      }
      .list-group-item:first-child {
        border-top-left-radius: 0.25rem;
        border-top-right-radius: 0.25rem;
      }
      .list-group-item:last-child {
        margin-bottom: 0;
        border-bottom-right-radius: 0.25rem;
        border-bottom-left-radius: 0.25rem;
      }
      .list-group-item:disabled {
        color: var(--ash-gray);
        pointer-events: none;
        background-color: var(--white);
      }
      .border {
        border: 1px solid var(--chemical-white) !important;
      }
      .rounded {
        border-radius: 0.25rem !important;
      }
      .mt-2 {
        margin-top: 0.5rem !important;
      }
      .mt-3 {
        margin-top: 1rem !important;
      }
      .mb-3 {
        margin-bottom: 1rem !important;
      }
      .p-3 {
        padding: 1rem !important;
      }
      .m-auto {
        margin: auto !important;
      }
      .text-center {
        text-align: center !important;
      }
      @media print {
        *,
        ::after,
        ::before {
          text-shadow: none !important;
          box-shadow: none !important;
        }
        a:not(.btn) {
          text-decoration: underline;
        }
        h2 {
          orphans: 3;
          widows: 3;
        }
        h2 {
          page-break-after: avoid;
        }
        body {
          min-width: 992px !important;
        }
        .container {
          min-width: 992px !important;
        }
      }

      #resources-list-container {
        width: 80%;
      }
    </style>
    <script type="text/javascript">
      'use strict';

      function ready(callback) {
        if (document.readyState !== 'loading') {
          callback();
        } else if (document.addEventListener) {
          document.addEventListener('DOMContentLoaded', callback);
        } else {
          document.attachEvent('onreadystatechange', () => {
            if (document.readyState === 'complete') callback();
          });
        }
      }

      class Resources {
        constructor() {
          throw new Error('Resources class is not meant to be instantiated.');
        }
        static async getApiVersion() {
          const apiVersion = await fetch('/api/version', { method: 'GET' });
          return apiVersion.json();
        }
        static setResourcesList() {
          const list = document.getElementById('resources-list');
          const resources = [
            'PHPStorm',
            'Postman',
            'Draw.io',
            'Adobe XD',
            'Git Bash',
            'Google Chrome',
            'MongoDB Compass',
            'Adobe Photoshop',
            'Adobe Illustrator'
          ];
          resources.sort();
          resources.forEach(resource => {
            list.innerHTML += `<li class="list-group-item">${resource}</li>`;
          });
        }

        static setNav() {
          const productionMode = !location.href.includes('localhost');
          const homeUrl = productionMode ? '/' : 'http://localhost:4200/';
          const navData = [
            {
              href: homeUrl,
              target: '_self',
              text: 'Home'
            },
            {
              href: './info.html',
              target: '_self',
              text: 'Info'
            },
            {
              href: './credits.php',
              target: '_self',
              text: 'Credits'
            },
            {
              href: './languages.php',
              target: '_self',
              text: 'Languages'
            },
            {
              href: `${homeUrl}sitemap.xml`,
              target: '_blank',
              text: 'Sitemap'
            },
            {
              href: `${homeUrl}robots.txt`,
              target: '_blank',
              text: 'Robots'
            }
          ];
          Resources.getApiVersion()
            .then(res => {
              if (!productionMode) {
                const devNavItems = [
                  {
                    href: `/api/docs/${res.api_version}/`,
                    target: '_self',
                    text: 'Docs'
                  }
                ];
                devNavItems.forEach(navItem => {
                  navData.push(navItem);
                });
              }
              const nav = document.getElementById('nav');
              while (nav.firstChild) {
                nav.removeChild(nav.firstChild);
              }
              navData.forEach(navInfo => {
                const link = document.createElement('a');
                const linkUrl = document.createAttribute('href');
                const linkTarget = document.createAttribute('target');
                const linkText = document.createTextNode(navInfo.text);
                linkUrl.value = navInfo.href;
                linkTarget.value = navInfo.target;
                link.setAttributeNode(linkUrl);
                link.setAttributeNode(linkTarget);
                link.appendChild(linkText);
                nav.appendChild(link);
                if (navData.indexOf(navInfo) < navData.length - 1) {
                  const separatorElement = document.createElement('span');
                  const separatorText = document.createTextNode(' | ');
                  separatorElement.appendChild(separatorText);
                  nav.appendChild(separatorElement);
                }
              });
            })
            .catch(err => console.error(err));
        }
      }

      ready(Resources.setNav);
      ready(Resources.setResourcesList);
    </script>
  </head>
  <body class="p-3">
    <div class="container border rounded">
      <h2 class="text-center mt-2 mb-3">Resources</h2>
      <div class="m-auto" id="resources-list-container">
        <ul class="list-group text-center" id="resources-list">
          <!-- content inserted via JavaScript -->
        </ul>
      </div>
      <hr class="mt-3 mb-3" />
      <div class="text-center mb-3">
        <nav id="nav">
          <!-- content inserted thru JavaScript -->
        </nav>
      </div>
    </div>
  </body>
</html>
