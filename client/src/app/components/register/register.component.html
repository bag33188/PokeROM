<ng-container>
  <spinners-gif-spinner [loading]="loading"></spinners-gif-spinner>
  <div class="container text-center" id="form-container">
    <form
      (ngSubmit)="register()"
      [formGroup]="registerForm"
      name="registerForm"
      autocomplete="on"
    >
      <fieldset>
        <legend class="pt-2 pb-2 text-center">Register</legend>
        <div class="border rounded" id="border-container">
          <p class="mb-0">
            <span class="text-danger font-weight-bold">*</span> = required
          </p>
          <div class="form-group">
            <ng-container>
              <label for="name" class="font-weight-bold">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                name="name"
                formControlName="name"
                autocomplete="name"
                placeholder="min: {{ lengths.name[0] }}, max: {{
                  lengths.name[1]
                }}"
              />
              <div
                [hidden]="!(Name.touched && Name.invalid)"
                appAlert
                alertType="warning"
              >
                <div [hidden]="!Name.errors?.minlength">
                  Name is too short (min: {{ lengths.name[0] }}, current:
                  {{ Name.value.length }}).
                </div>
                <div [hidden]="!Name.errors?.maxlength">
                  Name is too long (max: {{ lengths.name[1] }}, current:
                  {{ Name.value.length }}).
                </div>
              </div>
            </ng-container>
            <ng-container>
              <label for="username" class="font-weight-bold"
                >Username&nbsp;<span class="text-danger">*</span></label
              >
              <input
                type="text"
                class="form-control"
                id="username"
                name="username"
                formControlName="username"
                autocomplete="username"
                placeholder="min: {{ lengths.username[0] }}, max: {{
                  lengths.username[1]
                }}"
              />
              <div
                [hidden]="!(Username.touched && Username.invalid)"
                appAlert
                alertType="warning"
              >
                <div [hidden]="!Username.errors?.required">
                  Username is required.
                </div>
                <div [hidden]="!Username.errors?.minlength">
                  Username is too short (min: {{ lengths.username[0] }},
                  current: {{ Username.value.length }}).
                </div>
                <div [hidden]="!Username.errors?.maxlength">
                  Username is too long (max: {{ lengths.username[1] }}, current:
                  {{ Username.value.length }}).
                </div>
              </div>
            </ng-container>
            <ng-container>
              <label for="password" class="font-weight-bold"
                >Password&nbsp;<span class="text-danger">*</span></label
              >
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                formControlName="password"
                autocomplete="new-password"
                placeholder="min: {{ lengths.password[0] }}, max: {{
                  lengths.password[1]
                }}"
              />
              <div
                [hidden]="!(Password.touched && Password.invalid)"
                appAlert
                alertType="warning"
              >
                <div [hidden]="!Password.errors?.required">
                  Password is required.
                </div>
                <div [hidden]="!Password.errors?.minlength">
                  Password is too short (min: {{ lengths.password[0] }},
                  current: {{ Password.value.length }}).
                </div>
                <div [hidden]="!Password.errors?.maxlength">
                  Password is too long (max: {{ lengths.password[1] }}, current:
                  {{ Password.value.length }}).
                </div>
              </div>
            </ng-container>
          </div>

          <button
            type="submit"
            appBtn
            btnType="success"
            (click)="sanitizeData()"
            [disabled]="!registerForm.valid || firedOff"
          >
            Register
          </button>
        </div>
      </fieldset>
      <div class="mt-2 mb-2" appAlert alertType="info">
        Already have an account? Click
        <a [routerLink]="['/', 'login']">here</a> to login.
      </div>
      <div class="mt-1" *ngIf="registerFail" appAlert alertType="danger">
        {{ registerFail }}
      </div>
    </form>
  </div>
</ng-container>
