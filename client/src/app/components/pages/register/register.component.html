<div class="container text-center" id="form-container">
  <form (ngSubmit)="register()" [formGroup]="registerForm" name="registerForm">
    <fieldset>
      <legend class="pt-2 pb-2 text-center">Register</legend>
      <div class="border rounded" id="border-container">
        <div class="form-group">
          <label for="name" class="font-weight-bold">Name (Optional)</label>
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            formControlName="name"
            autocomplete="name"
          />
          <div
            [hidden]="!(Name.touched && Name.invalid)"
            class="alert alert-warning"
          >
            <div [hidden]="!Name.errors?.minlength">
              Name is too short ({{ Name.value.length }}).
            </div>
            <div [hidden]="!Name.errors?.maxlength">
              Name is too long ({{ Name.value.length }}).
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="email" class="font-weight-bold">Email</label>
          <input
            type="email"
            class="form-control"
            id="email"
            name="email"
            formControlName="email"
            autocomplete="email"
          />
          <div
            [hidden]="!(Email.touched && Email.invalid)"
            class="alert alert-warning"
          >
            <div [hidden]="!Email.errors?.required">
              Email is required.
            </div>
            <div [hidden]="!Email.errors?.minlength">
              Email is too short ({{ Email.value.length }}).
            </div>
            <div [hidden]="!Email.errors?.maxlength">
              Email is too long ({{ Email.value.length }}).
            </div>
            <div [hidden]="!Email.errors?.email">
              Invalid email.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="username" class="font-weight-bold">Username</label>
          <input
            type="text"
            class="form-control"
            id="username"
            name="username"
            formControlName="username"
            autocomplete="username"
          />
          <div
            [hidden]="!(Username.touched && Username.invalid)"
            class="alert alert-warning"
          >
            <div [hidden]="!Username.errors?.required">
              Username is required.
            </div>
            <div [hidden]="!Username.errors?.minlength">
              Username is too short ({{ Username.value.length }}).
            </div>
            <div [hidden]="!Username.errors?.maxlength">
              Username is too long ({{ Username.value.length }}).
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="password" class="font-weight-bold">Password</label>
          <input
            type="password"
            class="form-control"
            id="password"
            name="password"
            formControlName="password"
            autocomplete="new-password"
          />
          <div
            [hidden]="!(Password.touched && Password.invalid)"
            class="alert alert-warning"
          >
            <div [hidden]="!Password.errors?.required">
              Password is required.
            </div>
            <div [hidden]="!Password.errors?.minlength">
              Password is too short ({{ Password.value.length }}).
            </div>
            <div [hidden]="!Password.errors?.maxlength">
              Password is too long ({{ Password.value.length }}).
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-success"
          (click)="sanitizeData()"
          [disabled]="!registerForm.valid"
        >
          Register
        </button>
      </div>
    </fieldset>
    <div class="alert alert-danger mt-4" *ngIf="registerFail">
      {{ registerFail }}
    </div>
  </form>
</div>
