function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Wx56:function(t,e,n){"use strict";n.r(e);var a,r=n("ofXK"),i=n("Rv5h"),c=n("vuBd"),o=n("Mb37"),s=n("fXoL"),l=n("tk/3"),u=n("AytR"),g=((a=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"addRating",value:function(e){var n=new l.f({"Content-Type":"application/json"});return this.http.post(t.ratingsUrl,e,{headers:n})}},{key:"getRating",value:function(e){return this.http.get("".concat(t.ratingsUrl,"/").concat(e))}},{key:"getRatings",value:function(e){return this.http.get(e?"".concat(t.ratingsUrl,"?_limit=").concat(e):t.ratingsUrl)}},{key:"deleteRating",value:function(e){return this.http.delete("".concat(t.ratingsUrl,"/").concat(e))}},{key:"deleteAllRatings",value:function(){return this.http.delete(t.ratingsUrl)}},{key:"ratingHeaders",value:function(e){return this.http.head("".concat(t.ratingsUrl,"/").concat(e))}},{key:"allRatingsHeaders",value:function(){return this.http.head(t.ratingsUrl)}}]),t}()).ratingsUrl="".concat(u.a.apiUrl,"/ratings"),a.\u0275fac=function(t){return new(t||a)(s.Zb(l.b))},a.\u0275prov=s.Hb({token:a,factory:function(t){return a.\u0275fac(t)},providedIn:null}),a),d=n("NvMS"),b=n("Ql4B"),f=n("yZ9z"),h=n("1kSV");function m(t,e){if(1&t){var n=s.Sb();s.Rb(0,"div",1),s.Rb(1,"ngb-alert",2),s.dc("close",(function(t){s.yc(n);var a=e.$implicit;return s.gc().closeAlert(a)})),s.Ic(2),s.Pb(),s.Pb()}if(2&t){var a=e.$implicit;s.nc("@fadeOut","in"),s.xb(1),s.nc("type",a.type)("dismissible",!0),s.xb(1),s.Jc(a.message)}}var p,v,R=((p=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){f.a.getState("rating-alert")||f.a.setState("rating-alert",[{message:"Your rating does not store any personal information, browser data, or cookies. Your rating will only show your rating number, optional feedback message, and the date and time it was submitted.",type:"info"}]),this.alerts=f.a.getState("rating-alert")}},{key:"closeAlert",value:function(t){this.alerts.splice(this.alerts.indexOf(t),1),f.a.setState("rating-alert",[])}}]),t}()).\u0275fac=function(t){return new(t||p)},p.\u0275cmp=s.Fb({type:p,selectors:[["ratings-privacy-alert"]],decls:2,vars:1,consts:[["id","ratings-alert-container",4,"ngFor","ngForOf"],["id","ratings-alert-container"],[1,"mt-3",3,"type","dismissible","close"]],template:function(t,e){1&t&&(s.Ob(0),s.Gc(1,m,3,4,"div",0),s.Nb()),2&t&&(s.xb(1),s.nc("ngForOf",e.alerts))},directives:[r.n,h.d],styles:["#ratings-alert-container[_ngcontent-%COMP%]{margin:auto;padding:initial;position:static}"],data:{animation:[b.b]}}),p),y=n("3Pt+"),C=n("FpAq"),P=((v=function(){function t(){_classCallCheck(this,t),this.currentRate=new s.m,this.currentRateHover=new s.m}return _createClass(t,[{key:"ngOnInit",value:function(){this.rate=0}},{key:"outputRating",value:function(t){this.currentRate.emit(t)}},{key:"outputRatingHover",value:function(t){this.currentRateHover.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||v)},v.\u0275cmp=s.Fb({type:v,selectors:[["ratings-star-rating"]],outputs:{currentRate:"currentRate",currentRateHover:"currentRateHover"},decls:5,vars:1,consts:[["for","rating"],["id","spacing"],["id","rating",3,"rate","rateChange","hover"]],template:function(t,e){1&t&&(s.Ob(0),s.Rb(1,"label",0),s.Ic(2,"Rating:"),s.Pb(),s.Mb(3,"div",1),s.Rb(4,"ngb-rating",2),s.dc("rateChange",(function(t){return e.rate=t})),s.dc("rateChange",(function(t){return e.outputRating(t)})),s.dc("hover",(function(t){return e.outputRatingHover(t)})),s.Pb(),s.Nb()),2&t&&(s.xb(4),s.nc("rate",e.rate))},directives:[h.q],styles:["#spacing[_ngcontent-%COMP%]{display:inline-block;width:.4rem}@media only screen and (max-width:938px){.ng-star-inserted[_ngcontent-%COMP%]:not(label){font-size:1.5rem}}"]}),v),O=n("siFw");function k(t,e){if(1&t){var n=s.Sb();s.Rb(0,"form",6),s.dc("ngSubmit",(function(t){return s.yc(n),s.gc().submitRating()})),s.Rb(1,"div",7),s.Ic(2," Rating must be between 1 and 10. "),s.Pb(),s.Rb(3,"div",8),s.Rb(4,"div",9),s.Rb(5,"ratings-star-rating",10),s.dc("mouseleave",(function(t){return s.yc(n),s.gc().resetRating()})),s.dc("mousemove",(function(t){s.yc(n);var e=s.gc();return e.currentRate=e.currentRateHover})),s.dc("click",(function(t){return s.yc(n),s.gc().rateHasChanged=!0})),s.dc("currentRateHover",(function(t){return s.yc(n),s.gc().setRatingHover(t)})),s.dc("currentRate",(function(t){return s.yc(n),s.gc().setRating(t)})),s.Pb(),s.Pb(),s.Ic(6),s.Pb(),s.Rb(7,"div",8),s.Rb(8,"label",11),s.Ic(9,"Feedback"),s.Pb(),s.Rb(10,"textarea",12),s.dc("ngModelChange",(function(t){return s.yc(n),s.gc().message=t})),s.Pb(),s.Rb(11,"div",7),s.Ic(12," Feedback message is to too long. It can only be 1000 characters at max. "),s.Pb(),s.Rb(13,"p",13),s.Ic(14),s.Pb(),s.Pb(),s.Rb(15,"div",14),s.Rb(16,"div"),s.Mb(17,"input",15),s.Pb(),s.Rb(18,"div"),s.Rb(19,"span",16),s.Ic(20,"Please choose a rating."),s.Pb(),s.Pb(),s.Pb(),s.Rb(21,"div",17),s.Ic(22," Oops, there was an error while trying to submit your rating. Please try again later. "),s.Pb(),s.Pb()}if(2&t){var a=s.gc();s.xb(1),s.nc("hidden",a.formValid),s.xb(5),s.Kc(" Current rating: ",a.rateHasChanged?a.currentRate:a.currentRateHover," "),s.xb(4),s.nc("ngModel",a.message),s.xb(1),s.nc("hidden",a.message.length<=1e3),s.xb(3),s.Kc("Current Length: ",a.message.length," (Max: 1000)"),s.xb(1),s.Db("float-container-box",!a.rateHasChanged),s.xb(2),s.nc("disabled",!a.rateHasChanged||a.message.length>1e3||a.firedOff),s.xb(2),s.nc("hidden",a.rateHasChanged),s.xb(2),s.nc("hidden",!a.isError)}}function _(t,e){1&t&&(s.Ob(0),s.Rb(1,"h3",18),s.Ic(2," Thank you for your feedback!\xa0 "),s.Pb(),s.Nb())}var M,x,w=((M=function(){function t(e){_classCallCheck(this,t),this.ratingService=e,this.currentRate=0,String.prototype.sanitizeXSS=i.a,String.prototype.removeStringChars=c.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.message="",this.formValid=!0,this.formSubmitted=!1,this.rateHasChanged=!1,this.currentRateHover=0,this.rate=0,this.isError=!1,this.loading=!1,this.firedOff=!1}},{key:"setRating",value:function(t){this.currentRate=t,this.rate=t}},{key:"setRatingHover",value:function(t){this.currentRateHover=t}},{key:"resetRating",value:function(){this.rateHasChanged?this.currentRate=this.rate:this.currentRateHover=0}},{key:"submitRating",value:function(){var t=this;if(this.loading=!0,this.firedOff=!0,0===this.currentRate)this.formValid=!1;else{var e={rating:this.currentRate,message:this.message.sanitizeXSS({replaceSpecialChars:!1,encode:!1}).removeStringChars(),date_time:new Date};this.ratingService.addRating(e).subscribe((function(){t.formValid=!0,t.loading=!1,t.formSubmitted=!0,t.isError=!1}),(function(e){t.loading=!1,t.isError=!0,t.firedOff=!1,o.a.error(e)}))}}}]),t}()).\u0275fac=function(t){return new(t||M)(s.Lb(g))},M.\u0275cmp=s.Fb({type:M,selectors:[["app-ratings"]],decls:10,vars:3,consts:[[3,"loading"],[1,"container","mt-2"],[1,"mt-3"],[1,"border","p-4","bg-light","rounded"],["name","ratingForm",3,"ngSubmit",4,"ngIf"],[4,"ngIf"],["name","ratingForm",3,"ngSubmit"],["appAlert","","alertType","danger",3,"hidden"],[1,"form-group"],[1,"mb-1"],[3,"mouseleave","mousemove","click","currentRateHover","currentRate"],["for","message"],["name","message","id","message","placeholder","Optional","maxlength","1000",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-2"],["id","submit-container-float",1,"mr-auto"],["type","submit","value","Submit!","appBtn","","btnType","success",3,"disabled"],["appAlert","","alertType","warning",1,"ml-3",3,"hidden"],["appAlert","","alertType","danger",1,"mt-3","mb-0",3,"hidden"],["id","thx-msg",1,"text-center"]],template:function(t,e){1&t&&(s.Ob(0),s.Mb(1,"spinners-gif-spinner",0),s.Rb(2,"div",1),s.Rb(3,"h1",2),s.Ic(4,"Rate this App"),s.Pb(),s.Mb(5,"hr"),s.Rb(6,"div",3),s.Gc(7,k,23,9,"form",4),s.Gc(8,_,3,0,"ng-container",5),s.Pb(),s.Mb(9,"ratings-privacy-alert"),s.Pb(),s.Nb()),2&t&&(s.xb(1),s.nc("loading",e.loading),s.xb(6),s.nc("ngIf",!e.formSubmitted),s.xb(1),s.nc("ngIf",e.formSubmitted))},directives:[d.a,r.o,R,y.u,y.m,y.n,C.a,P,y.a,y.h,y.l,y.o,O.a],styles:['#thx-msg[_ngcontent-%COMP%]::after{content:"\ud83d\ude03"}.float-container-box[_ngcontent-%COMP%]{height:38.5px;width:281px}#submit-container-float[_ngcontent-%COMP%]{clear:both}#submit-container-float[_ngcontent-%COMP%]::after{clear:both;content:"";display:table}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{float:left}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{float:right}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{display:block;padding:.4rem}@media only screen and (max-width:360px){.float-container-box[_ngcontent-%COMP%]{height:6em;width:12.5rem}#submit-container-float[_ngcontent-%COMP%]{clear:left}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{margin-bottom:1rem}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{float:left}#submit-container-float[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{margin-left:0!important}}']}),M),S=n("tyNb"),H=[{path:"",component:w,canActivate:[n("Dat7").a]}],I=((x=function t(){_classCallCheck(this,t)}).\u0275mod=s.Jb({type:x}),x.\u0275inj=s.Ib({factory:function(t){return new(t||x)},imports:[[S.h.forChild(H)],S.h]}),x),F=n("WjtB"),U=n("FUS3");n.d(e,"RatingsModule",(function(){return T}));var A,T=((A=function t(){_classCallCheck(this,t)}).\u0275mod=s.Jb({type:A}),A.\u0275inj=s.Ib({factory:function(t){return new(t||A)},providers:[g],imports:[[r.c,I,h.h,F.a,U.a,y.g]]}),A)}}]);