function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{NvMS:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var t=r("Ei5h"),i=r("DvS/"),s=r("Mb37"),o=r("8Y7J"),a=r("3+9a"),c=["spinnerImg"],l=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.fallbackUrl=i.a.SPINNER,this.images=t.a}},{key:"ngAfterContentInit",value:function(){this.checkInput()}},{key:"checkInput",value:function(){null==this.loading&&s.a.error("Loading property is required.")}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["spinners-gif-spinner"]],viewQuery:function(e,n){var r;1&e&&o.Oc(c,!0),2&e&&o.xc(r=o.fc())&&(n.spinnerImage=r.first)},inputs:{loading:"loading"},decls:4,vars:7,consts:[[1,"spinner-container",3,"hidden"],["alt","Loading...",1,"spinner",3,"src"],["spinnerImg",""]],template:function(e,n){1&e&&(o.Sb(0,"div",0),o.Nb(1,"img",1,2),o.ic(3,"defaultImage"),o.Qb()),2&e&&(o.pc("hidden",!n.loading),o.yb(1),o.pc("src",o.mc(3,2,n.images.SPINNER,n.fallbackUrl,n.spinnerImage,!0),o.Cc))},pipes:[a.a],styles:[".spinner[_ngcontent-%COMP%]{height:6rem;width:6rem}.spinner-container[_ngcontent-%COMP%]{height:calc(100vh - 56px - 2rem);margin-right:-48px;margin-top:-48px;position:fixed;right:50%;top:50%;z-index:18}@media only screen and (max-width:500px){.spinner[_ngcontent-%COMP%]{height:4rem!important;width:4rem!important}.spinner-container[_ngcontent-%COMP%]{margin-right:-32px!important;margin-top:-32px!important}}@-webkit-keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}"]}),e}()},WjtB:function(e,n,r){"use strict";r.d(n,"a",(function(){return o})),r("NvMS"),r("beNV");var t=r("SVse"),i=r("iTUp"),s=r("8Y7J"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({factory:function(n){return new(n||e)},imports:[[t.c,i.a]]}),e}()},beNV:function(e,n,r){"use strict";r.d(n,"a",(function(){return o}));var t=r("Mb37"),i=r("8Y7J"),s=r("SVse"),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){var e;!1===this.checkForErrors()&&(this.setType(),this.setColor(),this.ngClasses=(_defineProperty(e={},this.type,!0),_defineProperty(e,this.color,!0),_defineProperty(e,"spacing",null!=this.spaced&&!0===this.spaced),e))}},{key:"setType",value:function(){this.type=this.getType()}},{key:"setColor",value:function(){this.color=this.getColor()}},{key:"getType",value:function(){if("string"==typeof this.spinnerType)switch(this.spinnerType){case"border":return"spinner-border";case"grow":return"spinner-grow";default:t.a.error("Invalid type.")}else t.a.error("Type must be a string.")}},{key:"getColor",value:function(){if("string"==typeof this.spinnerColor)switch(this.spinnerColor){case"primary":return"text-primary";case"secondary":return"text-secondary";case"success":return"text-success";case"danger":return"text-danger";case"warning":return"text-warning";case"info":return"text-info";case"light":return"text-light";case"dark":return"text-dark";default:t.a.error("Invalid color.")}else t.a.error("Color must be a string.")}},{key:"checkForErrors",value:function(){return this.spinnerType?this.spinnerColor?null==this.loading?(t.a.error("Loading property is required."),!0):null!=this.spaced&&"boolean"!=typeof this.spaced?(t.a.error("Spaced property must be a boolean."),!0):!(!this.customSize||"number"==typeof this.customSize||(t.a.error("Custom size property must be a number data-type."),0)):(t.a.error("Color is required."),!0):(t.a.error("Type is required."),!0)}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=i.Gb({type:e,selectors:[["spinners-bootstrap-spinner"]],inputs:{loading:"loading",spinnerType:["type","spinnerType"],spinnerColor:["color","spinnerColor"],customSize:["size","customSize"],spaced:"spaced"},decls:3,vars:4,consts:[["role","status",3,"ngClass","hidden"],[1,"sr-only"]],template:function(e,n){1&e&&(i.Sb(0,"div",0),i.Sb(1,"span",1),i.Kc(2,"Loading..."),i.Qb(),i.Qb()),2&e&&(i.Hc("height",n.customSize?n.customSize:32,"px")("width",n.customSize?n.customSize:32,"px"),i.pc("ngClass",n.ngClasses)("hidden",!n.loading))},directives:[s.m],styles:[".spacing[_ngcontent-%COMP%]{margin:3rem!important}"]}),e}()},qYmF:function(e,n,r){"use strict";r.r(n);var t=r("SVse"),i=r("s7LF"),s=r("lGQG"),o=r("Rv5h"),a=r("vuBd"),c=r("Mb37"),l=r("qfBg"),u=r("8Y7J"),d=r("iInd"),p=r("NvMS"),m=r("FpAq"),h=r("siFw");function g(e,n){if(1&e&&(u.Sb(0,"div",16),u.Kc(1),u.Qb()),2&e){var r=u.hc();u.yb(1),u.Mc(" ",r.loginFail," ")}}var f,b,y=function(){return["/","register"]},w=[{path:"",component:(f=function(){function e(n,r,t){_classCallCheck(this,e),this.authService=n,this.router=r,this.route=t,String.prototype.sanitizeXSS=o.a,String.prototype.removeStringChars=a.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.lengths=l.b,this.loginForm=new i.e({username:new i.c("",[i.s.required,i.s.minLength(this.lengths.username[0]),i.s.maxLength(this.lengths.username[1])]),password:new i.c("",[i.s.required,i.s.minLength(this.lengths.password[0]),i.s.maxLength(this.lengths.password[1])])}),this.firedOff=!1,this.loading=!1,setTimeout(s.a.logout,100)}},{key:"login",value:function(){var e=this;this.firedOff=!0,this.loading=!0,this.authService.authenticateUser({username:this.Username.value,password:this.Password.value}).subscribe((function(n){if(n.success){s.a.storeData(n.token,n.user),e.loading=!1;var r=e.route.snapshot.queryParamMap.get("returnUrl");e.router.navigate([r||"/roms"]),e.loginFail=""}else e.loading=!1,e.loginFail="Incorrect Login"}),(function(n){throw e.loading=!1,e.firedOff=!1,e.loginFail=404===n.status?"User does not exist":403===n.status?"Wrong password":"Oops, there was a problem while trying to log you in. Please try again later.",c.a.error(n)}))}},{key:"sanitizeData",value:function(){this.Username.setValue(this.Username.value.sanitizeXSS({replaceSpecialChars:!0}).removeStringChars()),this.Password.setValue(this.Password.value.sanitizeXSS({replaceSpecialChars:!1}))}},{key:"Username",get:function(){return this.loginForm.get("username")}},{key:"Password",get:function(){return this.loginForm.get("password")}}]),e}(),f.\u0275fac=function(e){return new(e||f)(u.Mb(s.a),u.Mb(d.d),u.Mb(d.a))},f.\u0275cmp=u.Gb({type:f,selectors:[["login"]],decls:39,vars:22,consts:[[3,"loading"],["id","form-container",1,"container","text-center"],["name","loginForm","autocomplete","on",3,"formGroup","ngSubmit"],[1,"pt-2","pb-2","text-center"],["id","border-container",1,"border","rounded"],[1,"form-group"],["for","username",1,"font-weight-bold"],["type","text","id","username","name","username","formControlName","username","autocomplete","username",1,"form-control"],["appAlert","","alertType","warning",3,"hidden"],[3,"hidden"],["for","password",1,"font-weight-bold"],["type","password","id","password","name","password","formControlName","password","autocomplete","current-password",1,"form-control"],["type","submit","appBtn","","btnType","success",3,"disabled","click"],["appAlert","","alertType","info",1,"mt-2","mb-2"],[3,"routerLink"],["class","mt-1","appAlert","","alertType","danger",4,"ngIf"],["appAlert","","alertType","danger",1,"mt-1"]],template:function(e,n){1&e&&(u.Pb(0),u.Nb(1,"spinners-gif-spinner",0),u.Sb(2,"div",1),u.Sb(3,"form",2),u.ec("ngSubmit",(function(e){return n.login()})),u.Sb(4,"fieldset"),u.Sb(5,"legend",3),u.Kc(6,"Login"),u.Qb(),u.Sb(7,"div",4),u.Sb(8,"div",5),u.Pb(9),u.Sb(10,"label",6),u.Kc(11,"Username"),u.Qb(),u.Nb(12,"input",7),u.Sb(13,"div",8),u.Sb(14,"div",9),u.Kc(15," Username is required. "),u.Qb(),u.Sb(16,"div",9),u.Kc(17),u.Qb(),u.Sb(18,"div",9),u.Kc(19),u.Qb(),u.Qb(),u.Ob(),u.Pb(20),u.Sb(21,"label",10),u.Kc(22,"Password"),u.Qb(),u.Nb(23,"input",11),u.Sb(24,"div",8),u.Sb(25,"div",9),u.Kc(26," Password is required. "),u.Qb(),u.Sb(27,"div",9),u.Kc(28),u.Qb(),u.Sb(29,"div",9),u.Kc(30),u.Qb(),u.Qb(),u.Ob(),u.Qb(),u.Sb(31,"button",12),u.ec("click",(function(e){return n.sanitizeData()})),u.Kc(32," Login "),u.Qb(),u.Qb(),u.Qb(),u.Sb(33,"div",13),u.Kc(34," Don't have an account? Register "),u.Sb(35,"a",14),u.Kc(36,"here"),u.Qb(),u.Kc(37,"! "),u.Qb(),u.Ic(38,g,2,1,"div",15),u.Qb(),u.Qb(),u.Ob()),2&e&&(u.yb(1),u.pc("loading",n.loading),u.yb(2),u.pc("formGroup",n.loginForm),u.yb(10),u.pc("hidden",!(n.Username.touched&&n.Username.invalid)),u.yb(1),u.pc("hidden",!(null!=n.Username.errors&&n.Username.errors.required)),u.yb(2),u.pc("hidden",!(null!=n.Username.errors&&n.Username.errors.minlength)),u.yb(1),u.Nc(" Username is too short (min: ",n.lengths.username[0],", current: ",n.Username.value.length,"). "),u.yb(1),u.pc("hidden",!(null!=n.Username.errors&&n.Username.errors.maxlength)),u.yb(1),u.Nc(" Username is too long (max: ",n.lengths.username[1],", current: ",n.Username.value.length,"). "),u.yb(5),u.pc("hidden",!(n.Password.touched&&n.Password.invalid)),u.yb(1),u.pc("hidden",!(null!=n.Password.errors&&n.Password.errors.required)),u.yb(2),u.pc("hidden",!(null!=n.Password.errors&&n.Password.errors.minlength)),u.yb(1),u.Nc(" Password is too short (min: ",n.lengths.password[0],", current: ",n.Password.value.length,"). "),u.yb(1),u.pc("hidden",!(null!=n.Password.errors&&n.Password.errors.maxlength)),u.yb(1),u.Nc(" Password is too long (max: ",n.lengths.password[1],", current: ",n.Password.value.length,"). "),u.yb(1),u.pc("disabled",!n.loginForm.valid||n.loading||n.firedOff),u.yb(4),u.pc("routerLink",u.tc(21,y)),u.yb(3),u.pc("ngIf",n.loginFail))},directives:[p.a,i.u,i.m,i.f,i.a,i.l,i.d,m.a,h.a,d.g,t.o],styles:["#form-container[_ngcontent-%COMP%]{margin:0 auto;padding-top:1rem;width:32vw}@media only screen and (min-width:100px)and (max-width:992px){#form-container[_ngcontent-%COMP%]{width:45vw}}@media only screen and (min-width:991px)and (max-width:762px){#form-container[_ngcontent-%COMP%]{width:55vw}}@media only screen and (min-width:761px)and (max-width:703px){#form-container[_ngcontent-%COMP%]{width:63vw}}@media only screen and (min-width:0)and (max-width:702px){#form-container[_ngcontent-%COMP%]{width:70vw}}#border-container[_ngcontent-%COMP%]{background-color:#fff;padding:14px}label[_ngcontent-%COMP%]{padding-top:1rem}"]}),f),canActivate:[r("Dat7").a]}],v=((b=function e(){_classCallCheck(this,e)}).\u0275mod=u.Kb({type:b}),b.\u0275inj=u.Jb({factory:function(e){return new(e||b)},imports:[[d.h.forChild(w)],d.h]}),b),S=r("FUS3"),C=r("WjtB");r.d(n,"LoginModule",(function(){return k}));var P,k=((P=function e(){_classCallCheck(this,e)}).\u0275mod=u.Kb({type:P}),P.\u0275inj=u.Jb({factory:function(e){return new(e||P)},providers:[l.a,s.a],imports:[[t.c,v,S.a,C.a,i.q]]}),P)}}]);