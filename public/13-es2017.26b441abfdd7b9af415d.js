(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"3+Ob":function(e,r,n){"use strict";n.r(r);var t=n("ofXK"),s=n("3Pt+"),a=n("lGQG"),i=n("qfBg"),o=n("Rv5h"),d=n("vuBd"),l=n("Mb37"),c=n("fXoL"),m=n("tyNb"),b=n("NvMS"),h=n("FpAq"),g=n("siFw");function u(e,r){if(1&e&&(c.Rb(0,"div",21),c.Jc(1),c.Pb()),2&e){const e=c.gc();c.xb(1),c.Lc(" ",e.registerFail," ")}}const p=function(){return["/","login"]},w=[{path:"",component:(()=>{class e{constructor(e,r,n){this.router=e,this.userService=r,this.fb=n,String.prototype.sanitizeXSS=o.a,String.prototype.removeStringChars=d.a}get Username(){return this.registerForm.get("username")}get Name(){return this.registerForm.get("name")}get Password(){return this.registerForm.get("password")}ngOnInit(){this.lengths=i.b,this.registerForm=this.fb.group({name:["",[s.s.minLength(this.lengths.name[0]),s.s.maxLength(this.lengths.name[1])]],username:["",[s.s.required,s.s.minLength(this.lengths.username[0]),s.s.maxLength(this.lengths.username[1])]],password:["",[s.s.required,s.s.minLength(this.lengths.password[0]),s.s.maxLength(this.lengths.password[1])]]}),this.loading=!1,this.firedOff=!1,setTimeout(a.a.logout,100)}register(){this.firedOff=!0,this.loading=!0;const e={name:this.Name.value,username:this.Username.value,password:this.Password.value};/([<>/\\'"&])/g.test(e.username)?this.registerFail="Username can only contain letters, numbers, or underscores.":((e.name.length<1||""===e.name)&&delete e.name,this.userService.registerUser(e).subscribe(e=>{e.success?(this.loading=!1,this.router.navigate(["/","login"]),this.registerFail=""):this.registerFail="Incorrect Registration"},e=>{this.firedOff=!1,this.loading=!1;const r=["error","user_exists","errors","msg"];e[r[0]].hasOwnProperty(r[1])&&(this.registerFail=!0===e[r[0]][r[1]]?"User with username already exists":"Registration Failure"),e[r[0]][r[2]]&&e[r[0]][r[2]].forEach(e=>{this.registerFail="Username can only contain letters, numbers, or underscores."===e[r[3]]?"Username can only contain letters, numbers, or underscores.":"Password contains invalid characters."===e[r[3]]?"Password contains invalid characters.":"Registration Failure"}),l.a.error(e)}))}sanitizeData(){this.Name.setValue(this.Name.value.sanitizeXSS({replaceSpecialChars:!0}).removeStringChars()),this.Username.setValue(this.Username.value.sanitizeXSS({replaceSpecialChars:!1}).removeStringChars()),this.Password.setValue(this.Password.value.sanitizeXSS({replaceSpecialChars:!1}))}}return e.\u0275fac=function(r){return new(r||e)(c.Lb(m.d),c.Lb(i.a),c.Lb(s.b))},e.\u0275cmp=c.Fb({type:e,selectors:[["register"]],decls:56,vars:35,consts:[[3,"loading"],["id","form-container",1,"container","text-center"],["name","registerForm","autocomplete","on",3,"formGroup","ngSubmit"],[1,"pt-2","pb-2","text-center"],["id","border-container",1,"border","rounded"],[1,"mb-0"],[1,"text-danger","font-weight-bold"],[1,"form-group"],["for","name",1,"font-weight-bold"],["type","text","id","name","name","name","formControlName","name","autocomplete","name",1,"form-control",3,"placeholder"],["appAlert","","alertType","warning",3,"hidden"],[3,"hidden"],["for","username",1,"font-weight-bold"],[1,"text-danger"],["type","text","id","username","name","username","formControlName","username","autocomplete","username",1,"form-control",3,"placeholder"],["for","password",1,"font-weight-bold"],["type","password","id","password","name","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],["type","submit","appBtn","","btnType","success",3,"disabled","click"],["appAlert","","alertType","info",1,"mt-2","mb-2"],[3,"routerLink"],["class","mt-1","appAlert","","alertType","danger",4,"ngIf"],["appAlert","","alertType","danger",1,"mt-1"]],template:function(e,r){1&e&&(c.Ob(0),c.Mb(1,"spinners-gif-spinner",0),c.Rb(2,"div",1),c.Rb(3,"form",2),c.dc("ngSubmit",(function(e){return r.register()})),c.Rb(4,"fieldset"),c.Rb(5,"legend",3),c.Jc(6,"Register"),c.Pb(),c.Rb(7,"div",4),c.Rb(8,"p",5),c.Rb(9,"span",6),c.Jc(10,"*"),c.Pb(),c.Jc(11," = required "),c.Pb(),c.Rb(12,"div",7),c.Ob(13),c.Rb(14,"label",8),c.Jc(15,"Name"),c.Pb(),c.Mb(16,"input",9),c.Rb(17,"div",10),c.Rb(18,"div",11),c.Jc(19),c.Pb(),c.Rb(20,"div",11),c.Jc(21),c.Pb(),c.Pb(),c.Nb(),c.Ob(22),c.Rb(23,"label",12),c.Jc(24,"Username\xa0"),c.Rb(25,"span",13),c.Jc(26,"*"),c.Pb(),c.Pb(),c.Mb(27,"input",14),c.Rb(28,"div",10),c.Rb(29,"div",11),c.Jc(30," Username is required. "),c.Pb(),c.Rb(31,"div",11),c.Jc(32),c.Pb(),c.Rb(33,"div",11),c.Jc(34),c.Pb(),c.Pb(),c.Nb(),c.Ob(35),c.Rb(36,"label",15),c.Jc(37,"Password\xa0"),c.Rb(38,"span",13),c.Jc(39,"*"),c.Pb(),c.Pb(),c.Mb(40,"input",16),c.Rb(41,"div",10),c.Rb(42,"div",11),c.Jc(43," Password is required. "),c.Pb(),c.Rb(44,"div",11),c.Jc(45),c.Pb(),c.Rb(46,"div",11),c.Jc(47),c.Pb(),c.Pb(),c.Nb(),c.Pb(),c.Rb(48,"button",17),c.dc("click",(function(e){return r.sanitizeData()})),c.Jc(49," Register "),c.Pb(),c.Pb(),c.Pb(),c.Rb(50,"div",18),c.Jc(51," Already have an account? Click "),c.Rb(52,"a",19),c.Jc(53,"here"),c.Pb(),c.Jc(54," to login. "),c.Pb(),c.Hc(55,u,2,1,"div",20),c.Pb(),c.Pb(),c.Nb()),2&e&&(c.xb(1),c.oc("loading",r.loading),c.xb(2),c.oc("formGroup",r.registerForm),c.xb(13),c.rc("placeholder","min: ",r.lengths.name[0],", max: ",r.lengths.name[1],""),c.xb(1),c.oc("hidden",!(r.Name.touched&&r.Name.invalid)),c.xb(1),c.oc("hidden",!(null!=r.Name.errors&&r.Name.errors.minlength)),c.xb(1),c.Mc(" Name is too short (min: ",r.lengths.name[0],", current: ",r.Name.value.length,"). "),c.xb(1),c.oc("hidden",!(null!=r.Name.errors&&r.Name.errors.maxlength)),c.xb(1),c.Mc(" Name is too long (max: ",r.lengths.name[1],", current: ",r.Name.value.length,"). "),c.xb(6),c.rc("placeholder","min: ",r.lengths.username[0],", max: ",r.lengths.username[1],""),c.xb(1),c.oc("hidden",!(r.Username.touched&&r.Username.invalid)),c.xb(1),c.oc("hidden",!(null!=r.Username.errors&&r.Username.errors.required)),c.xb(2),c.oc("hidden",!(null!=r.Username.errors&&r.Username.errors.minlength)),c.xb(1),c.Mc(" Username is too short (min: ",r.lengths.username[0],", current: ",r.Username.value.length,"). "),c.xb(1),c.oc("hidden",!(null!=r.Username.errors&&r.Username.errors.maxlength)),c.xb(1),c.Mc(" Username is too long (max: ",r.lengths.username[1],", current: ",r.Username.value.length,"). "),c.xb(6),c.rc("placeholder","min: ",r.lengths.password[0],", max: ",r.lengths.password[1],""),c.xb(1),c.oc("hidden",!(r.Password.touched&&r.Password.invalid)),c.xb(1),c.oc("hidden",!(null!=r.Password.errors&&r.Password.errors.required)),c.xb(2),c.oc("hidden",!(null!=r.Password.errors&&r.Password.errors.minlength)),c.xb(1),c.Mc(" Password is too short (min: ",r.lengths.password[0],", current: ",r.Password.value.length,"). "),c.xb(1),c.oc("hidden",!(null!=r.Password.errors&&r.Password.errors.maxlength)),c.xb(1),c.Mc(" Password is too long (max: ",r.lengths.password[1],", current: ",r.Password.value.length,"). "),c.xb(1),c.oc("disabled",!r.registerForm.valid||r.firedOff),c.xb(4),c.oc("routerLink",c.sc(34,p)),c.xb(3),c.oc("ngIf",r.registerFail))},directives:[b.a,s.u,s.m,s.f,s.a,s.l,s.d,h.a,g.a,m.g,t.o],styles:["#form-container[_ngcontent-%COMP%]{margin:0 auto;padding-top:1rem;width:32vw}@media only screen and (min-width:100px)and (max-width:992px){#form-container[_ngcontent-%COMP%]{width:45vw}}@media only screen and (min-width:991px)and (max-width:762px){#form-container[_ngcontent-%COMP%]{width:55vw}}@media only screen and (min-width:761px)and (max-width:703px){#form-container[_ngcontent-%COMP%]{width:63vw}}@media only screen and (min-width:0)and (max-width:702px){#form-container[_ngcontent-%COMP%]{width:70vw}}#border-container[_ngcontent-%COMP%]{background-color:#fff;padding:14px}label[_ngcontent-%COMP%]{padding-top:1rem}"]}),e})(),canActivate:[n("Dat7").a]}];let f=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(r){return new(r||e)},imports:[[m.h.forChild(w)],m.h]}),e})();var x=n("FUS3"),P=n("WjtB");n.d(r,"RegisterModule",(function(){return v}));let v=(()=>{class e{}return e.\u0275mod=c.Jb({type:e}),e.\u0275inj=c.Ib({factory:function(r){return new(r||e)},providers:[i.a],imports:[[t.c,f,s.q,x.a,P.a]]}),e})()}}]);