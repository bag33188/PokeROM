!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return n(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function a(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{FpAq:function(n,t,i){"use strict";i.d(t,"a",function(){return c});var o=i("Mb37"),s=i("fXoL"),c=function(){var n=function(){function n(e){r(this,n),this.el=e}return a(n,[{key:"ngOnInit",value:function(){this.preClasses=["alert",this.addShadow?"shadow":null],this.alertType?this.setType():o.a.error("No alert type specified."),null!=this.addShadow&&"boolean"!=typeof this.addShadow&&o.a.error("addShadow must be a boolean.")}},{key:"getType",value:function(){if("string"!=typeof this.alertType)return o.a.error("Type must be a string."),new Array;switch(this.alertType){case"primary":return[].concat(e(this.preClasses),["alert-primary"]);case"secondary":return[].concat(e(this.preClasses),["alert-secondary"]);case"warning":return[].concat(e(this.preClasses),["alert-warning"]);case"success":return[].concat(e(this.preClasses),["alert-success"]);case"danger":return[].concat(e(this.preClasses),["alert-danger"]);case"info":return[].concat(e(this.preClasses),["alert-info"]);case"light":return[].concat(e(this.preClasses),["alert-light"]);case"dark":return[].concat(e(this.preClasses),["alert-dark"]);default:return o.a.error("Invalid alert type."),new Array}}},{key:"setType",value:function(){var e=this.getType(),n=this.el.nativeElement.classList;e.forEach(function(e){Array.from(n).includes(e)&&n.remove(e),n.add(e)}),-1!==Array.prototype.slice.call(n).indexOf("null")&&n.remove("null")}}]),n}();return n.\u0275fac=function(e){return new(e||n)(s.Mb(s.m))},n.\u0275dir=s.Hb({type:n,selectors:[["","appAlert",""]],inputs:{alertType:"alertType",addShadow:["shadow","addShadow"]}}),n}()},NvMS:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var i=t("Ei5h"),o=t("DvS/"),s=t("Mb37"),c=t("fXoL"),d=t("3+9a"),l=["spinnerImg"],u=function(){var e=function(){function e(){r(this,e)}return a(e,[{key:"ngOnInit",value:function(){this.fallbackUrl=o.a.SPINNER,this.images=i.a}},{key:"ngAfterContentInit",value:function(){this.checkInput()}},{key:"checkInput",value:function(){null==this.loading&&s.a.error("Loading property is required.")}}]),e}();return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["spinners-gif-spinner"]],viewQuery:function(e,n){var r;(1&e&&c.Kc(l,!0),2&e)&&(c.uc(r=c.cc())&&(n.spinnerImage=r.first))},inputs:{loading:"loading"},decls:4,vars:7,consts:[[1,"spinner-container",3,"hidden"],["alt","Loading...",1,"spinner",3,"src"],["spinnerImg",""]],template:function(e,n){1&e&&(c.Rb(0,"div",0),c.Nb(1,"img",1,2),c.fc(3,"defaultImage"),c.Qb()),2&e&&(c.mc("hidden",!n.loading),c.zb(1),c.mc("src",c.jc(3,2,n.images.SPINNER,n.fallbackUrl,n.spinnerImage,!0),c.zc))},pipes:[d.a],styles:[".spinner[_ngcontent-%COMP%]{height:6rem;width:6rem}.spinner-container[_ngcontent-%COMP%]{height:calc(100vh - (56px + 2rem));margin-right:-48px;margin-top:-48px;position:fixed;right:50%;top:50%;z-index:18}@media only screen and (max-width:500px){.spinner[_ngcontent-%COMP%]{height:4rem!important;width:4rem!important}.spinner-container[_ngcontent-%COMP%]{margin-right:-32px!important;margin-top:-32px!important}}@-webkit-keyframes rotate{to{transform:rotate(1turn)}}@keyframes rotate{to{transform:rotate(1turn)}}"]}),e}()},WjtB:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var a=t("ofXK"),i=t("iTUp"),o=t("fXoL"),s=function(){var e=function e(){r(this,e)};return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(n){return new(n||e)},imports:[[a.c,i.a]]}),e}()},qYmF:function(e,n,t){"use strict";t.r(n),t.d(n,"LoginModule",function(){return O});var i=t("ofXK"),o=t("tyNb"),s=t("Dat7"),c=t("3Pt+"),d=t("lGQG"),l=t("Rv5h"),u=t("vuBd"),m=t("Mb37"),p=t("qfBg"),h=t("fXoL"),f=t("NvMS"),g=t("FpAq"),b=t("siFw");function w(e,n){if(1&e&&(h.Rb(0,"div",16),h.Gc(1),h.Qb()),2&e){var r=h.ec();h.mc("shadow",!0),h.zb(1),h.Ic(" ",r.loginFail," ")}}var y,v,P,S=function(){return["/","register"]},x=[{path:"",component:(y=function(){function e(n,t,a){r(this,e),this.authService=n,this.router=t,this.route=a,String.prototype.sanitizeXSS=l.a,String.prototype.removeStringChars=u.a}return a(e,[{key:"ngOnInit",value:function(){this.lengths=p.b,this.loginForm=new c.e({username:new c.c("",[c.s.required,c.s.minLength(this.lengths.username[0]),c.s.maxLength(this.lengths.username[1])]),password:new c.c("",[c.s.required,c.s.minLength(this.lengths.password[0]),c.s.maxLength(this.lengths.password[1])])}),this.firedOff=!1,this.loading=!1,setTimeout(d.a.logout,100)}},{key:"login",value:function(){var e=this;this.firedOff=!0,this.loading=!0,this.authService.authenticateUser({username:this.Username.value,password:this.Password.value}).subscribe(function(n){if(n.success){d.a.storeData(n.token,n.user),e.loading=!1;var r=e.route.snapshot.queryParamMap.get("returnUrl");e.router.navigate([r||"/roms"]),e.loginFail=""}else e.loading=!1,e.loginFail="Incorrect Login"},function(n){e.loading=!1,e.firedOff=!1,e.loginFail=404===n.status?"User does not exist":403===n.status?"Wrong password":"Oops, there was a problem while trying to log you in. Please try again later.",m.a.error(n)})}},{key:"sanitizeData",value:function(){this.Username.setValue(this.Username.value.sanitizeXSS({replaceSpecialChars:!0}).removeStringChars()),this.Password.setValue(this.Password.value.sanitizeXSS({replaceSpecialChars:!1}))}},{key:"Username",get:function(){return this.loginForm.get("username")}},{key:"Password",get:function(){return this.loginForm.get("password")}}]),e}(),y.\u0275fac=function(e){return new(e||y)(h.Mb(d.a),h.Mb(o.d),h.Mb(o.a))},y.\u0275cmp=h.Gb({type:y,selectors:[["login"]],decls:39,vars:23,consts:[[3,"loading"],["id","form-container",1,"container","text-center"],["name","loginForm","autocomplete","on",3,"formGroup","ngSubmit"],[1,"pt-2","pb-2","text-center"],["id","border-container",1,"border","rounded","shadow"],[1,"form-group"],["for","username",1,"font-weight-bold"],["type","text","id","username","name","username","formControlName","username","autocomplete","username",1,"form-control"],["appAlert","","alertType","warning",3,"hidden"],[3,"hidden"],["for","password",1,"font-weight-bold"],["type","password","id","password","name","password","formControlName","password","autocomplete","current-password",1,"form-control"],["type","submit","appBtn","","btnType","success",3,"disabled","click"],["appAlert","","alertType","info",1,"mt-2","mb-2",3,"shadow"],[3,"routerLink"],["class","mt-1","appAlert","","alertType","danger",3,"shadow",4,"ngIf"],["appAlert","","alertType","danger",1,"mt-1",3,"shadow"]],template:function(e,n){1&e&&(h.Pb(0),h.Nb(1,"spinners-gif-spinner",0),h.Rb(2,"div",1),h.Rb(3,"form",2),h.bc("ngSubmit",function(){return n.login()}),h.Rb(4,"fieldset"),h.Rb(5,"legend",3),h.Gc(6,"Login"),h.Qb(),h.Rb(7,"div",4),h.Rb(8,"div",5),h.Pb(9),h.Rb(10,"label",6),h.Gc(11,"Username"),h.Qb(),h.Nb(12,"input",7),h.Rb(13,"div",8),h.Rb(14,"div",9),h.Gc(15," Username is required. "),h.Qb(),h.Rb(16,"div",9),h.Gc(17),h.Qb(),h.Rb(18,"div",9),h.Gc(19),h.Qb(),h.Qb(),h.Ob(),h.Pb(20),h.Rb(21,"label",10),h.Gc(22,"Password"),h.Qb(),h.Nb(23,"input",11),h.Rb(24,"div",8),h.Rb(25,"div",9),h.Gc(26," Password is required. "),h.Qb(),h.Rb(27,"div",9),h.Gc(28),h.Qb(),h.Rb(29,"div",9),h.Gc(30),h.Qb(),h.Qb(),h.Ob(),h.Qb(),h.Rb(31,"button",12),h.bc("click",function(){return n.sanitizeData()}),h.Gc(32," Login "),h.Qb(),h.Qb(),h.Qb(),h.Rb(33,"div",13),h.Gc(34," Don't have an account? Register "),h.Rb(35,"a",14),h.Gc(36,"here"),h.Qb(),h.Gc(37,"! "),h.Qb(),h.Ec(38,w,2,2,"div",15),h.Qb(),h.Qb(),h.Ob()),2&e&&(h.zb(1),h.mc("loading",n.loading),h.zb(2),h.mc("formGroup",n.loginForm),h.zb(10),h.mc("hidden",!(n.Username.touched&&n.Username.invalid)),h.zb(1),h.mc("hidden",!(null!=n.Username.errors&&n.Username.errors.required)),h.zb(2),h.mc("hidden",!(null!=n.Username.errors&&n.Username.errors.minlength)),h.zb(1),h.Jc(" Username is too short (min: ",n.lengths.username[0],", current: ",n.Username.value.length,"). "),h.zb(1),h.mc("hidden",!(null!=n.Username.errors&&n.Username.errors.maxlength)),h.zb(1),h.Jc(" Username is too long (max: ",n.lengths.username[1],", current: ",n.Username.value.length,"). "),h.zb(5),h.mc("hidden",!(n.Password.touched&&n.Password.invalid)),h.zb(1),h.mc("hidden",!(null!=n.Password.errors&&n.Password.errors.required)),h.zb(2),h.mc("hidden",!(null!=n.Password.errors&&n.Password.errors.minlength)),h.zb(1),h.Jc(" Password is too short (min: ",n.lengths.password[0],", current: ",n.Password.value.length,"). "),h.zb(1),h.mc("hidden",!(null!=n.Password.errors&&n.Password.errors.maxlength)),h.zb(1),h.Jc(" Password is too long (max: ",n.lengths.password[1],", current: ",n.Password.value.length,"). "),h.zb(1),h.mc("disabled",!n.loginForm.valid||n.loading||n.firedOff),h.zb(2),h.mc("shadow",!0),h.zb(2),h.mc("routerLink",h.qc(22,S)),h.zb(3),h.mc("ngIf",n.loginFail))},directives:[f.a,c.u,c.m,c.f,c.a,c.l,c.d,g.a,b.a,o.g,i.o],styles:["#form-container[_ngcontent-%COMP%]{margin:0 auto;padding-top:1rem;width:32vw}@media only screen and (min-width:100px) and (max-width:992px){#form-container[_ngcontent-%COMP%]{width:45vw}}@media only screen and (min-width:991px) and (max-width:762px){#form-container[_ngcontent-%COMP%]{width:55vw}}@media only screen and (min-width:761px) and (max-width:703px){#form-container[_ngcontent-%COMP%]{width:63vw}}@media only screen and (min-width:0) and (max-width:702px){#form-container[_ngcontent-%COMP%]{width:70vw}}#border-container[_ngcontent-%COMP%]{background-color:#fff;padding:14px}label[_ngcontent-%COMP%]{padding-top:1rem}"]}),y),canActivate:[s.a]}],C=((v=function e(){r(this,e)}).\u0275mod=h.Kb({type:v}),v.\u0275inj=h.Jb({factory:function(e){return new(e||v)},imports:[[o.h.forChild(x)],o.h]}),v),k=t("FUS3"),z=t("WjtB"),O=((P=function e(){r(this,e)}).\u0275mod=h.Kb({type:P}),P.\u0275inj=h.Jb({factory:function(e){return new(e||P)},providers:[p.a,d.a],imports:[[i.c,C,k.a,z.a,c.q]]}),P)}}])}();