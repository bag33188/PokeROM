function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"3+Ob":function(e,r,n){"use strict";n.r(r);var t=n("ofXK"),a=n("3Pt+"),i=n("lGQG"),s=n("Rv5h"),o=n("vuBd"),c=n("Mb37"),d=n("fXoL"),l=n("tyNb"),m=n("qfBg"),b=n("NvMS"),u=n("FpAq"),h=n("siFw");function g(e,r){if(1&e&&(d.Rb(0,"div",21),d.Hc(1),d.Pb()),2&e){var n=d.gc();d.xb(1),d.Jc(" ",n.registerFail," ")}}var p,f,w=function(){return["/","login"]},v=[{path:"",component:(p=function(){function e(r,n,t){_classCallCheck(this,e),this.router=r,this.userService=n,this.fb=t,this.registerForm=this.fb.group({name:["",[a.s.minLength(1),a.s.maxLength(100)]],username:["",[a.s.required,a.s.minLength(3),a.s.maxLength(22)]],password:["",[a.s.required,a.s.minLength(6),a.s.maxLength(256)]]}),String.prototype.sanitizeXSS=s.a,String.prototype.removeStringChars=o.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.loading=!1,this.firedOff=!1,setTimeout(i.a.logout,100)}},{key:"register",value:function(){var e=this;this.firedOff=!0,this.loading=!0;var r={name:this.Name.value,username:this.Username.value,password:this.Password.value};/(?:([<>/\\'"&]))/g.test(r.username)?this.registerFail="Username can only contain letters, numbers, or underscores.":((r.name.length<1||""===r.name)&&delete r.name,this.userService.registerUser(r).subscribe((function(r){r.success?(e.loading=!1,e.router.navigate(["/","login"]),e.registerFail=""):e.registerFail="Incorrect Registration"}),(function(r){e.firedOff=!1,e.loading=!1;var n=["error","user_exists","errors","msg"];r[n[0]].hasOwnProperty(n[1])&&(e.registerFail=!0===r[n[0]][n[1]]?"User with username already exists":"Registration Failure"),r[n[0]][n[2]]&&r[n[0]][n[2]].forEach((function(r){e.registerFail="Username can only contain letters, numbers, or underscores."===r[n[3]]?"Username can only contain letters, numbers, or underscores.":"Password contains invalid characters."===r[n[3]]?"Password contains invalid characters.":"Registration Failure"})),c.a.error(r)})))}},{key:"sanitizeData",value:function(){this.Name.setValue(this.Name.value.sanitizeXSS({replaceSpecialChars:!0}).removeStringChars()),this.Username.setValue(this.Username.value.sanitizeXSS({replaceSpecialChars:!1}).removeStringChars()),this.Password.setValue(this.Password.value.sanitizeXSS({replaceSpecialChars:!1}))}},{key:"Username",get:function(){return this.registerForm.get("username")}},{key:"Name",get:function(){return this.registerForm.get("name")}},{key:"Password",get:function(){return this.registerForm.get("password")}}]),e}(),p.\u0275fac=function(e){return new(e||p)(d.Lb(l.c),d.Lb(m.a),d.Lb(a.b))},p.\u0275cmp=d.Fb({type:p,selectors:[["register"]],decls:56,vars:23,consts:[[3,"loading"],["id","form-container",1,"container","text-center"],["name","registerForm","autocomplete","on",3,"formGroup","ngSubmit"],[1,"pt-2","pb-2","text-center"],["id","border-container",1,"border","rounded"],[1,"mb-0"],[1,"text-danger","font-weight-bold"],[1,"form-group"],["for","name",1,"font-weight-bold"],["type","text","id","name","name","name","formControlName","name","autocomplete","name","placeholder","min: 1, max: 100",1,"form-control"],["appAlert","","alertType","warning",3,"hidden"],[3,"hidden"],["for","username",1,"font-weight-bold"],[1,"text-danger"],["type","text","id","username","name","username","formControlName","username","autocomplete","username","placeholder","min: 3, max: 22",1,"form-control"],["for","password",1,"font-weight-bold"],["type","password","id","password","name","password","formControlName","password","autocomplete","new-password","placeholder","min: 6, max: 256",1,"form-control"],["type","submit","appBtn","","btnType","success",3,"disabled","click"],["appAlert","","alertType","info",1,"mt-2","mb-2"],[3,"routerLink"],["class","mt-1","appAlert","","alertType","danger",4,"ngIf"],["appAlert","","alertType","danger",1,"mt-1"]],template:function(e,r){1&e&&(d.Ob(0),d.Mb(1,"spinners-gif-spinner",0),d.Rb(2,"div",1),d.Rb(3,"form",2),d.dc("ngSubmit",(function(e){return r.register()})),d.Rb(4,"fieldset"),d.Rb(5,"legend",3),d.Hc(6,"Register"),d.Pb(),d.Rb(7,"div",4),d.Rb(8,"p",5),d.Rb(9,"span",6),d.Hc(10,"*"),d.Pb(),d.Hc(11," = required "),d.Pb(),d.Rb(12,"div",7),d.Ob(13),d.Rb(14,"label",8),d.Hc(15,"Name"),d.Pb(),d.Mb(16,"input",9),d.Rb(17,"div",10),d.Rb(18,"div",11),d.Hc(19),d.Pb(),d.Rb(20,"div",11),d.Hc(21),d.Pb(),d.Pb(),d.Nb(),d.Ob(22),d.Rb(23,"label",12),d.Hc(24,"Username\xa0"),d.Rb(25,"span",13),d.Hc(26,"*"),d.Pb(),d.Pb(),d.Mb(27,"input",14),d.Rb(28,"div",10),d.Rb(29,"div",11),d.Hc(30," Username is required. "),d.Pb(),d.Rb(31,"div",11),d.Hc(32),d.Pb(),d.Rb(33,"div",11),d.Hc(34),d.Pb(),d.Pb(),d.Nb(),d.Ob(35),d.Rb(36,"label",15),d.Hc(37,"Password\xa0"),d.Rb(38,"span",13),d.Hc(39,"*"),d.Pb(),d.Pb(),d.Mb(40,"input",16),d.Rb(41,"div",10),d.Rb(42,"div",11),d.Hc(43," Password is required. "),d.Pb(),d.Rb(44,"div",11),d.Hc(45),d.Pb(),d.Rb(46,"div",11),d.Hc(47),d.Pb(),d.Pb(),d.Nb(),d.Pb(),d.Rb(48,"button",17),d.dc("click",(function(e){return r.sanitizeData()})),d.Hc(49," Register "),d.Pb(),d.Pb(),d.Pb(),d.Rb(50,"div",18),d.Hc(51," Already have an account? Click "),d.Rb(52,"a",19),d.Hc(53,"here"),d.Pb(),d.Hc(54," to login. "),d.Pb(),d.Fc(55,g,2,1,"div",20),d.Pb(),d.Pb(),d.Nb()),2&e&&(d.xb(1),d.nc("loading",r.loading),d.xb(2),d.nc("formGroup",r.registerForm),d.xb(14),d.nc("hidden",!(r.Name.touched&&r.Name.invalid)),d.xb(1),d.nc("hidden",!(null!=r.Name.errors&&r.Name.errors.minlength)),d.xb(1),d.Jc(" Name is too short (min: 1, current: ",r.Name.value.length,"). "),d.xb(1),d.nc("hidden",!(null!=r.Name.errors&&r.Name.errors.maxlength)),d.xb(1),d.Jc(" Name is too long (max: 100, current: ",r.Name.value.length,"). "),d.xb(7),d.nc("hidden",!(r.Username.touched&&r.Username.invalid)),d.xb(1),d.nc("hidden",!(null!=r.Username.errors&&r.Username.errors.required)),d.xb(2),d.nc("hidden",!(null!=r.Username.errors&&r.Username.errors.minlength)),d.xb(1),d.Jc(" Username is too short (min: 3, current: ",r.Username.value.length,"). "),d.xb(1),d.nc("hidden",!(null!=r.Username.errors&&r.Username.errors.maxlength)),d.xb(1),d.Jc(" Username is too long (max: 22, current: ",r.Username.value.length,"). "),d.xb(7),d.nc("hidden",!(r.Password.touched&&r.Password.invalid)),d.xb(1),d.nc("hidden",!(null!=r.Password.errors&&r.Password.errors.required)),d.xb(2),d.nc("hidden",!(null!=r.Password.errors&&r.Password.errors.minlength)),d.xb(1),d.Jc(" Password is too short (min: 8, current: ",r.Password.value.length,"). "),d.xb(1),d.nc("hidden",!(null!=r.Password.errors&&r.Password.errors.maxlength)),d.xb(1),d.Jc(" Password is too long (max: 256, current: ",r.Password.value.length,"). "),d.xb(1),d.nc("disabled",!r.registerForm.valid||r.firedOff),d.xb(4),d.nc("routerLink",d.qc(22,w)),d.xb(3),d.nc("ngIf",r.registerFail))},directives:[b.a,a.u,a.m,a.f,a.a,a.l,a.d,u.a,h.a,l.f,t.o],styles:["#form-container[_ngcontent-%COMP%]{margin:0 auto;padding-top:1rem;width:32vw}@media only screen and (min-width:100px)and (max-width:992px){#form-container[_ngcontent-%COMP%]{width:45vw}}@media only screen and (min-width:991px)and (max-width:762px){#form-container[_ngcontent-%COMP%]{width:55vw}}@media only screen and (min-width:761px)and (max-width:703px){#form-container[_ngcontent-%COMP%]{width:63vw}}@media only screen and (min-width:0)and (max-width:702px){#form-container[_ngcontent-%COMP%]{width:70vw}}#border-container[_ngcontent-%COMP%]{background-color:#fff;padding:14px}label[_ngcontent-%COMP%]{padding-top:1rem}"]}),p),canActivate:[n("Dat7").a]}],P=((f=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:f}),f.\u0275inj=d.Ib({factory:function(e){return new(e||f)},imports:[[l.g.forChild(v)],l.g]}),f),x=n("FUS3"),y=n("WjtB");n.d(r,"RegisterModule",(function(){return C}));var R,C=((R=function e(){_classCallCheck(this,e)}).\u0275mod=d.Jb({type:R}),R.\u0275inj=d.Ib({factory:function(e){return new(e||R)},providers:[m.a],imports:[[t.c,P,a.q,x.a,y.a]]}),R)}}]);