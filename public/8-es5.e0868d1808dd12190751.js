function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,r):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{FpAq:function(e,r,n){"use strict";n.d(r,"a",(function(){return o}));var t=n("Mb37"),a=n("fXoL"),o=function(){var e=function(){function e(r){_classCallCheck(this,e),this.el=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.preClasses=["alert",this.addShadow?"shadow":null],this.alertType?this.setType():t.a.error("No alert type specified."),null!=this.addShadow&&"boolean"!=typeof this.addShadow&&t.a.error("addShadow must be a boolean.")}},{key:"getType",value:function(){if("string"==typeof this.alertType)switch(this.alertType){case"primary":return[].concat(_toConsumableArray(this.preClasses),["alert-primary"]);case"secondary":return[].concat(_toConsumableArray(this.preClasses),["alert-secondary"]);case"warning":return[].concat(_toConsumableArray(this.preClasses),["alert-warning"]);case"success":return[].concat(_toConsumableArray(this.preClasses),["alert-success"]);case"danger":return[].concat(_toConsumableArray(this.preClasses),["alert-danger"]);case"info":return[].concat(_toConsumableArray(this.preClasses),["alert-info"]);case"light":return[].concat(_toConsumableArray(this.preClasses),["alert-light"]);case"dark":return[].concat(_toConsumableArray(this.preClasses),["alert-dark"]);default:t.a.error("Invalid alert type.")}else t.a.error("Type must be a string.")}},{key:"setType",value:function(){var e=this.getType(),r=this.el.nativeElement.classList;e.forEach((function(e){Array.prototype.slice.call(r).includes(e)&&r.remove(e),r.add(e)})),Array.from(r).includes("null")&&r.remove("null")}}]),e}();return e.\u0275fac=function(r){return new(r||e)(a.Jb(a.l))},e.\u0275dir=a.Eb({type:e,selectors:[["","appAlert",""]],inputs:{alertType:"alertType",addShadow:["shadow","addShadow"]}}),e}()},NvMS:function(e,r,n){"use strict";n.d(r,"a",(function(){return c}));var t=n("Ei5h"),a=n("DvS/"),o=n("Mb37"),i=n("fXoL"),s=n("3+9a"),l=["spinnerImg"],c=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){this.fallbackUrl=a.a.SPINNER,this.images=t.a}},{key:"ngAfterContentInit",value:function(){this.checkInput()}},{key:"checkInput",value:function(){null==this.loading&&o.a.error("Loading property is required.")}}]),e}();return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=i.Db({type:e,selectors:[["spinners-gif-spinner"]],viewQuery:function(e,r){var n;1&e&&i.Jc(l,!0),2&e&&i.tc(n=i.bc())&&(r.spinnerImage=n.first)},inputs:{loading:"loading"},decls:4,vars:7,consts:[[1,"spinner-container",3,"hidden"],["alt","Loading...",1,"spinner",3,"src"],["spinnerImg",""]],template:function(e,r){1&e&&(i.Ob(0,"div",0),i.Kb(1,"img",1,2),i.ec(3,"defaultImage"),i.Nb()),2&e&&(i.lc("hidden",!r.loading),i.wb(1),i.lc("src",i.ic(3,2,r.images.SPINNER,r.fallbackUrl,r.spinnerImage,!0),i.yc))},pipes:[s.a],styles:[".spinner[_ngcontent-%COMP%]{height:6rem;width:6rem}.spinner-container[_ngcontent-%COMP%]{height:calc(100vh - (56px + 2rem));margin-right:-48px;margin-top:-48px;position:fixed;right:50%;top:50%;z-index:18}@media only screen and (max-width:500px){.spinner[_ngcontent-%COMP%]{height:4rem!important;width:4rem!important}.spinner-container[_ngcontent-%COMP%]{margin-right:-32px!important;margin-top:-32px!important}}@-webkit-keyframes rotate{to{transform:rotate(1turn)}}@keyframes rotate{to{transform:rotate(1turn)}}"]}),e}()},WjtB:function(e,r,n){"use strict";n.d(r,"a",(function(){return i}));var t=n("ofXK"),a=n("iTUp"),o=n("fXoL"),i=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Hb({type:e}),e.\u0275inj=o.Gb({factory:function(r){return new(r||e)},imports:[[t.c,a.a]]}),e}()},qYmF:function(e,r,n){"use strict";n.r(r),n.d(r,"LoginModule",(function(){return P}));var t=n("ofXK"),a=n("tyNb"),o=n("Dat7"),i=n("3Pt+"),s=n("lGQG"),l=n("Rv5h"),c=n("vuBd"),u=n("Mb37"),d=n("qfBg"),p=n("fXoL"),m=n("NvMS"),h=n("FpAq"),b=n("siFw");function f(e,r){if(1&e&&(p.Ob(0,"div",16),p.Fc(1),p.Nb()),2&e){var n=p.dc();p.wb(1),p.Hc(" ",n.loginFail," ")}}var g,w,y,v=function(){return["/","register"]},C=[{path:"",component:(g=function(){function e(r,n,t){_classCallCheck(this,e),this.authService=r,this.router=n,this.route=t,String.prototype.sanitizeXSS=l.a,String.prototype.removeStringChars=c.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.lengths=d.b,this.loginForm=new i.e({username:new i.c("",[i.s.required,i.s.minLength(this.lengths.username[0]),i.s.maxLength(this.lengths.username[1])]),password:new i.c("",[i.s.required,i.s.minLength(this.lengths.password[0]),i.s.maxLength(this.lengths.password[1])])}),this.firedOff=!1,this.loading=!1,setTimeout(s.a.logout,100)}},{key:"login",value:function(){var e=this;this.firedOff=!0,this.loading=!0,this.authService.authenticateUser({username:this.Username.value,password:this.Password.value}).subscribe((function(r){if(r.success){s.a.storeData(r.token,r.user),e.loading=!1;var n=e.route.snapshot.queryParamMap.get("returnUrl");e.router.navigate([n||"/roms"]),e.loginFail=""}else e.loading=!1,e.loginFail="Incorrect Login"}),(function(r){e.loading=!1,e.firedOff=!1,e.loginFail=404===r.status?"User does not exist":403===r.status?"Wrong password":"Oops, there was a problem while trying to log you in. Please try again later.",u.a.error(r)}))}},{key:"sanitizeData",value:function(){this.Username.setValue(this.Username.value.sanitizeXSS({replaceSpecialChars:!0}).removeStringChars()),this.Password.setValue(this.Password.value.sanitizeXSS({replaceSpecialChars:!1}))}},{key:"Username",get:function(){return this.loginForm.get("username")}},{key:"Password",get:function(){return this.loginForm.get("password")}}]),e}(),g.\u0275fac=function(e){return new(e||g)(p.Jb(s.a),p.Jb(a.d),p.Jb(a.a))},g.\u0275cmp=p.Db({type:g,selectors:[["login"]],decls:39,vars:22,consts:[[3,"loading"],["id","form-container",1,"container","text-center"],["name","loginForm","autocomplete","on",3,"formGroup","ngSubmit"],[1,"pt-2","pb-2","text-center"],["id","border-container",1,"border","rounded"],[1,"form-group"],["for","username",1,"font-weight-bold"],["type","text","id","username","name","username","formControlName","username","autocomplete","username",1,"form-control"],["appAlert","","alertType","warning",3,"hidden"],[3,"hidden"],["for","password",1,"font-weight-bold"],["type","password","id","password","name","password","formControlName","password","autocomplete","current-password",1,"form-control"],["type","submit","appBtn","","btnType","success",3,"disabled","click"],["appAlert","","alertType","info",1,"mt-2","mb-2"],[3,"routerLink"],["class","mt-1","appAlert","","alertType","danger",4,"ngIf"],["appAlert","","alertType","danger",1,"mt-1"]],template:function(e,r){1&e&&(p.Mb(0),p.Kb(1,"spinners-gif-spinner",0),p.Ob(2,"div",1),p.Ob(3,"form",2),p.ac("ngSubmit",(function(){return r.login()})),p.Ob(4,"fieldset"),p.Ob(5,"legend",3),p.Fc(6,"Login"),p.Nb(),p.Ob(7,"div",4),p.Ob(8,"div",5),p.Mb(9),p.Ob(10,"label",6),p.Fc(11,"Username"),p.Nb(),p.Kb(12,"input",7),p.Ob(13,"div",8),p.Ob(14,"div",9),p.Fc(15," Username is required. "),p.Nb(),p.Ob(16,"div",9),p.Fc(17),p.Nb(),p.Ob(18,"div",9),p.Fc(19),p.Nb(),p.Nb(),p.Lb(),p.Mb(20),p.Ob(21,"label",10),p.Fc(22,"Password"),p.Nb(),p.Kb(23,"input",11),p.Ob(24,"div",8),p.Ob(25,"div",9),p.Fc(26," Password is required. "),p.Nb(),p.Ob(27,"div",9),p.Fc(28),p.Nb(),p.Ob(29,"div",9),p.Fc(30),p.Nb(),p.Nb(),p.Lb(),p.Nb(),p.Ob(31,"button",12),p.ac("click",(function(){return r.sanitizeData()})),p.Fc(32," Login "),p.Nb(),p.Nb(),p.Nb(),p.Ob(33,"div",13),p.Fc(34," Don't have an account? Register "),p.Ob(35,"a",14),p.Fc(36,"here"),p.Nb(),p.Fc(37,"! "),p.Nb(),p.Dc(38,f,2,1,"div",15),p.Nb(),p.Nb(),p.Lb()),2&e&&(p.wb(1),p.lc("loading",r.loading),p.wb(2),p.lc("formGroup",r.loginForm),p.wb(10),p.lc("hidden",!(r.Username.touched&&r.Username.invalid)),p.wb(1),p.lc("hidden",!(null!=r.Username.errors&&r.Username.errors.required)),p.wb(2),p.lc("hidden",!(null!=r.Username.errors&&r.Username.errors.minlength)),p.wb(1),p.Ic(" Username is too short (min: ",r.lengths.username[0],", current: ",r.Username.value.length,"). "),p.wb(1),p.lc("hidden",!(null!=r.Username.errors&&r.Username.errors.maxlength)),p.wb(1),p.Ic(" Username is too long (max: ",r.lengths.username[1],", current: ",r.Username.value.length,"). "),p.wb(5),p.lc("hidden",!(r.Password.touched&&r.Password.invalid)),p.wb(1),p.lc("hidden",!(null!=r.Password.errors&&r.Password.errors.required)),p.wb(2),p.lc("hidden",!(null!=r.Password.errors&&r.Password.errors.minlength)),p.wb(1),p.Ic(" Password is too short (min: ",r.lengths.password[0],", current: ",r.Password.value.length,"). "),p.wb(1),p.lc("hidden",!(null!=r.Password.errors&&r.Password.errors.maxlength)),p.wb(1),p.Ic(" Password is too long (max: ",r.lengths.password[1],", current: ",r.Password.value.length,"). "),p.wb(1),p.lc("disabled",!r.loginForm.valid||r.loading||r.firedOff),p.wb(4),p.lc("routerLink",p.pc(21,v)),p.wb(3),p.lc("ngIf",r.loginFail))},directives:[m.a,i.u,i.m,i.f,i.a,i.l,i.d,h.a,b.a,a.g,t.o],styles:["#form-container[_ngcontent-%COMP%]{margin:0 auto;padding-top:1rem;width:32vw}@media only screen and (min-width:100px) and (max-width:992px){#form-container[_ngcontent-%COMP%]{width:45vw}}@media only screen and (min-width:991px) and (max-width:762px){#form-container[_ngcontent-%COMP%]{width:55vw}}@media only screen and (min-width:761px) and (max-width:703px){#form-container[_ngcontent-%COMP%]{width:63vw}}@media only screen and (min-width:0) and (max-width:702px){#form-container[_ngcontent-%COMP%]{width:70vw}}#border-container[_ngcontent-%COMP%]{background-color:#fff;padding:14px}label[_ngcontent-%COMP%]{padding-top:1rem}"]}),g),canActivate:[o.a]}],_=((w=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:w}),w.\u0275inj=p.Gb({factory:function(e){return new(e||w)},imports:[[a.h.forChild(C)],a.h]}),w),O=n("FUS3"),k=n("WjtB"),P=((y=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:y}),y.\u0275inj=p.Gb({factory:function(e){return new(e||y)},providers:[d.a,s.a],imports:[[t.c,_,O.a,k.a,i.q]]}),y)}}]);