(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{NvMS:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("Ei5h"),n=r("Mb37"),i=r("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){this.images=s.a}ngAfterViewInit(){this.checkInput()}checkInput(){null==this.loading&&n.a.error("Loading property is required.")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-gif-spinner"]],inputs:{loading:"loading"},decls:2,vars:2,consts:[[1,"spinner-container",3,"hidden"],["alt","spinner",1,"spinner",3,"src"]],template:function(t,e){1&t&&(i.Rb(0,"div",0),i.Mb(1,"img",1),i.Pb()),2&t&&(i.nc("hidden",!e.loading),i.xb(1),i.nc("src",e.images.SPINNER,i.zc))},styles:[".spinner[_ngcontent-%COMP%]{height:6rem;width:6rem}.spinner-container[_ngcontent-%COMP%]{height:calc(100vh - (56px + 2rem));margin-right:-48px;margin-top:-48px;position:fixed;right:50%;top:50%;z-index:18}@media only screen and (max-width:500px){.spinner[_ngcontent-%COMP%]{height:4rem!important;width:4rem!important}.spinner-container[_ngcontent-%COMP%]{margin-right:-32px!important;margin-top:-32px!important}}@-webkit-keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]}),t})()},Sa4M:function(t,e,r){"use strict";var s=r("yCtX"),n=r("DH7j"),i=r("7o/Q"),o=r("l7GE"),a=r("ZUHj"),c=r("Lhse");class p{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new l(t,this.resultSelector))}}class l extends i.a{constructor(t,e,r=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=r}_next(t){const e=this.iterators;Object(n.a)(t)?e.push(new u(t)):e.push("function"==typeof t[c.a]?new h(t[c.a]()):new d(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let r=0;r<e;r++){let e=t[r];e.stillUnsubscribed?this.destination.add(e.subscribe(e,r)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,r=this.destination;for(let i=0;i<e;i++){let e=t[i];if("function"==typeof e.hasValue&&!e.hasValue())return}let s=!1;const n=[];for(let i=0;i<e;i++){let e=t[i],o=e.next();if(e.hasCompleted()&&(s=!0),o.done)return void r.complete();n.push(o.value)}this.resultSelector?this._tryresultSelector(n):r.next(n),s&&r.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class h{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class u{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[c.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class d extends o.a{constructor(t,e,r){super(t),this.parent=e,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[c.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,r,s,n){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return Object(a.a)(this,this.observable,this,e)}}var m=r("3E0/"),g=r("Mb37"),f={prefix:"far",iconName:"check-circle",icon:[512,512,[],"f058","M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"]},b={prefix:"far",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"]},y=r("Ql4B"),v=r("fXoL"),x=r("t52u"),C=r("ofXK"),w=r("beNV"),S=r("siFw"),R=r("FpAq"),k=r("6NWb");function O(t,e){if(1&t&&(v.Rb(0,"div",3),v.Mb(1,"app-bootstrap-spinner",4),v.Pb()),2&t){const t=v.gc();v.xb(1),v.nc("loading",t.loading)}}function U(t,e){if(1&t){const t=v.Sb();v.Rb(0,"button",5),v.dc("click",(function(e){return v.xc(t),v.gc().updateRoms()})),v.Hc(1," Update ROMs "),v.Pb()}}function I(t,e){if(1&t&&(v.Rb(0,"div",6),v.Mb(1,"fa-icon",7),v.Hc(2),v.Pb()),2&t){const t=v.gc();v.nc("alertType",t.romsUpdated?"success":"danger")("@fadeIn",void 0),v.xb(1),v.nc("icon",t.romsUpdated?t.faCheckCircle:t.faTimesCircle),v.xb(1),v.Jc(" ",t.romsUpdated?"ROMs successfully updated!":"Error updating ROMs, please try again later."," ")}}r.d(e,"a",(function(){return T}));let T=(()=>{class t{constructor(t){this.romsService=t}ngOnInit(){this.faTimesCircle=b,this.faCheckCircle=f,this.showBtn=!0,this.loading=!1,this.deleteRomsObs$=this.romsService.deleteAllRoms().pipe(Object(m.a)(500)),this.addRomsObs$=function(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(s.a)(t,void 0).lift(new p(e))}(this.romsService.addCoreRoms().pipe(Object(m.a)(1e3)),this.romsService.addRomHacks().pipe(Object(m.a)(1e3)))}ngOnDestroy(){this.romsUpdated&&(this.deleteRomsSub.unsubscribe(),this.addRomsSub.unsubscribe())}updateRoms(){this.showBtn=!1,this.loading=!0,this.deleteRoms(this.addRoms.bind(this,t))}deleteRoms(t){this.deleteRomsSub=this.deleteRomsObs$.subscribe({error:t=>{this.loading=!1,this.romsUpdated=!1,g.a.error(t)},complete:()=>t()})}addRoms(){this.addRomsSub=this.addRomsObs$.subscribe({error:t=>{this.loading=!1,g.a.error(t)},complete:()=>{this.romsUpdated=!0,this.loading=!1}})}}return t.\u0275fac=function(e){return new(e||t)(v.Lb(x.a))},t.\u0275cmp=v.Fb({type:t,selectors:[["app-update-roms"]],decls:4,vars:3,consts:[["id","update-roms-spinner-container","class","mb-3",4,"ngIf"],["class","mb-3","type","button","appBtn","","btnType","warning",3,"click",4,"ngIf"],["id","roms-updated-alert-container","class","p-2","appAlert","",3,"alertType",4,"ngIf"],["id","update-roms-spinner-container",1,"mb-3"],["type","border","color","primary",3,"loading"],["type","button","appBtn","","btnType","warning",1,"mb-3",3,"click"],["id","roms-updated-alert-container","appAlert","",1,"p-2",3,"alertType"],[1,"mr-1",3,"icon"]],template:function(t,e){1&t&&(v.Ob(0),v.Fc(1,O,2,1,"div",0),v.Fc(2,U,2,0,"button",1),v.Fc(3,I,3,4,"div",2),v.Nb()),2&t&&(v.xb(1),v.nc("ngIf",e.loading),v.xb(1),v.nc("ngIf",e.showBtn),v.xb(1),v.nc("ngIf",void 0!==e.romsUpdated))},directives:[C.n,w.a,S.a,R.a,k.a],styles:["#update-roms-spinner-container[_ngcontent-%COMP%]{padding:.11rem}#roms-updated-alert-container[_ngcontent-%COMP%]{margin-bottom:.75rem}"],data:{animation:[y.a]}}),t})()},UTcu:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("fXoL"),n=r("lGQG"),i=r("tyNb");let o=(()=>{class t{constructor(t,e){this.authService=t,this.router=e}canActivate(t,e){return!this.authService.loggedOut()||(this.router.navigate(["/","login"],{queryParams:{returnUrl:e.url}}),!1)}}return t.\u0275fac=function(e){return new(e||t)(s.Zb(n.a),s.Zb(i.b))},t.\u0275prov=s.Hb({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:"root"}),t})()},WjtB:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r("NvMS"),r("beNV");var s=r("ofXK"),n=r("fXoL");let i=(()=>{class t{}return t.\u0275mod=n.Jb({type:t}),t.\u0275inj=n.Ib({factory:function(e){return new(e||t)},providers:[],imports:[[s.b]]}),t})()},beNV:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("Mb37"),n=r("fXoL"),i=r("ofXK");let o=(()=>{class t{constructor(){}ngOnInit(){!1===this.checkForErrors()&&(this.setType(),this.setColor(),this.ngClasses={[this.type]:!0,[this.color]:!0,spacing:null!=this.spaced&&!0===this.spaced})}setType(){this.type=this.getType()}setColor(){this.color=this.getColor()}getType(){if("string"==typeof this.spinnerType)switch(this.spinnerType){case"border":return"spinner-border";case"grow":return"spinner-grow";default:s.a.error("Invalid type.")}else s.a.error("Type must be a string.")}getColor(){if("string"==typeof this.spinnerColor)switch(this.spinnerColor){case"primary":return"text-primary";case"secondary":return"text-secondary";case"success":return"text-success";case"danger":return"text-danger";case"warning":return"text-warning";case"info":return"text-info";case"light":return"text-light";case"dark":return"text-dark";default:s.a.error("Invalid color.")}else s.a.error("Color must be a string.")}checkForErrors(){return this.spinnerType||s.a.error("Type is required."),this.spinnerColor||s.a.error("Color is required."),null==this.loading&&s.a.error("Loading property is required."),null!=this.spaced&&"boolean"!=typeof this.spaced&&s.a.error("Spaced property must be a boolean."),this.customSize&&"number"!=typeof this.customSize&&s.a.error("Custom size property must be a number data-type."),!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["app-bootstrap-spinner"]],inputs:{loading:"loading",spinnerType:["type","spinnerType"],spinnerColor:["color","spinnerColor"],customSize:["size","customSize"],spaced:"spaced"},decls:3,vars:4,consts:[["role","status",3,"ngClass","hidden"],[1,"sr-only"]],template:function(t,e){1&t&&(n.Rb(0,"div",0),n.Rb(1,"span",1),n.Hc(2,"Loading..."),n.Pb(),n.Pb()),2&t&&(n.Ec("height",e.customSize?e.customSize:32,"px"),n.Ec("width",e.customSize?e.customSize:32,"px"),n.nc("ngClass",e.ngClasses)("hidden",!e.loading))},directives:[i.l],styles:[".spacing[_ngcontent-%COMP%]{margin:3rem!important}"]}),t})()},t52u:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var s=r("tk/3"),n=r("AytR"),i=r("fXoL");let o=(()=>{class t{constructor(t){this.http=t,this.romsUrl=`${n.a.apiUrl}/roms`}getAllRoms(t){let e=new s.g;return t.limit&&(e=e.append("_limit",t.limit.toString())),t.pagination&&(t.pagination.page&&(e=e.append("page",t.pagination.page.toString())),t.pagination.perPage&&(e=e.append("per_page",t.pagination.perPage.toString()))),t.types&&(!0===t.types.core&&(e=e.append("core",JSON.stringify(t.types.core))),!0===t.types.hacks&&(e=e.append("hacks",JSON.stringify(t.types.hacks)))),this.http.get(this.romsUrl,{params:e})}getRom(t){return this.http.get(`${this.romsUrl}/${t}`)}addRom(t){const e=new s.f({"Content-Type":"application/json"});return this.http.post(this.romsUrl,t,{headers:e})}updateRom(t,e){const r=new s.f({"Content-Type":"application/json"});return this.http.put(`${this.romsUrl}/${t}`,e,{headers:r})}patchRom(t,e){const r=new s.f({"Content-Type":"application/json"});return this.http.patch(`${this.romsUrl}/${t}`,e,{headers:r})}deleteRom(t){return this.http.delete(`$${this.romsUrl}/${t}`)}deleteAllRoms(t){let e=new s.g;return t&&(!0===t.core&&(e=e.append("core",JSON.stringify(t.core))),!0===t.hacks&&(e=e.append("hacks",JSON.stringify(t.hacks)))),this.http.delete(this.romsUrl,{params:e})}getHeadersAll(){return this.http.head(this.romsUrl)}getHeadersSingle(t){return this.http.head(`${this.romsUrl}/${t}`)}getOptionsInfo(){return this.http.options(this.romsUrl)}addCoreRoms(){const t=new s.f({"Content-Type":"application/json"});return this.http.post(`${this.romsUrl}/core`,{},{headers:t})}addRomHacks(){const t=new s.f({"Content-Type":"application/json"});return this.http.post(`${this.romsUrl}/hacks`,{},{headers:t})}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(s.b))},t.\u0275prov=i.Hb({token:t,factory:function(e){return t.\u0275fac(e)},providedIn:null}),t})()}}]);